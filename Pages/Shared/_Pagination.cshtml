@model ASP_RazorWeb.Models.Pagination

@{
    int currentPage = Model.currentPage;
    int countPage = Model.countPage;
    Func<int?,string> generateUrl = Model.generateUrl;

    int? previous = null;
    int? next = null;

    if(currentPage > 1) {
        previous = currentPage - 1;
    }
    if(currentPage < countPage) {
        next = currentPage + 1;
    }

    List<int> pageList = new List<int>();
    pageList.Add(currentPage);
    int expand = 5;
    int sumExpand = expand * 2;

    for(int i = 1; i <= expand;i++) {
        if(currentPage - i >= 1) {
            pageList.Insert(0, currentPage - i);
            sumExpand--;
        }
        if(currentPage + i <= countPage) {
            pageList.Add(currentPage + i);
            sumExpand--;
        }
    }
    if(sumExpand > 0) {
        if(pageList[0] == 1) {
            for(int i=1;i<= sumExpand;i++) {
                if(pageList.Last() + 1 < countPage)
                pageList.Add(pageList.Last() + 1);
            }
        }else {
           for(int i=1;i<= sumExpand;i++) {
                if(pageList[0] - 1 > 1)
                pageList.Insert(0, pageList[0] - 1);
            } 
        }
    }
}

<nav aria-label="...">
  <ul class="pagination">
    @if(previous == null) {
        <li class="page-item disabled">
            <a class="page-link">Previous</a>
         </li>
    }else {
        <li class="page-item">
            <a class="page-link" href="@generateUrl(previous)">Previous</a>
        </li>
    }

    @foreach(var item in pageList) {
        if(item == currentPage) {
             <li class="page-item active" aria-current="page">
                <a class="page-link" href="@generateUrl(item)">@item</a>
            </li>
        }else {
            <li class="page-item"><a class="page-link" href="@generateUrl(item)">@item</a></li>
        }
    }
    @if(next == null) {
        <li class="page-item disabled">
            <a class="page-link">Next</a>
         </li>
    }else {
        <li class="page-item">
            <a class="page-link" href="@generateUrl(next)">Next</a>
        </li>
    }
  </ul>
</nav>